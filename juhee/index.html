<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Soprano Juhee Choi</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="juhee.css">
</head>
<body>
  <div class="background"></div>
  <header>
    <div class="hamburger" onclick="toggleMenu()">
      <div></div>
      <div></div>
      <div></div>
    </div>
    <ul class="menu">
      <li class="outlined-text-semibig"><a href="#home">Home</a></li>
      <li class="outlined-text-semibig"><a href="#edu">Education</a></li>
      <li class="outlined-text-semibig"><a href="#honor">Honors</a></li>
      <li class="outlined-text-semibig"><a href="#perf">Performance</a></li>
    </ul>
  </header>
  <main>
    <div class="menus word-break" id="home">
      <h1 class="outlined-text-big">Soprano Juhee Choi</h1>
      <br><br>
      <h1 class="outlined-text-semibig">Currently I am</h1>
      <div id="bio-j-container" class="xml-content"></div>
    </div>
    <br><br>
    <div class="menus word-break" id="edu">
      <h1 class="outlined-text-semibig">Education</h1>
      <div id="edu-j-container" class="xml-content"></div>
    </div>
    <br><br>
    <div class="menus word-break" id="honor">
      <h1 class="outlined-text-semibig">Honors</h1>
      <div id="honor-j-container" class="xml-content"></div>
    </div>
    <br><br>
    <div class="menus word-break" id="perf">
      <h1 class="outlined-text-semibig">Performances</h1>
      <div id="perf-container" class="xml-content"></div>
    </div>
    <br><br><br><br>
  </main>
  <footer>
    <!-- <p class="outlined-text">&copy; 2024 Sop. Juhee Choi. All rights reserved.</p> -->
    <div class="icon-container">
      <a href="https://www.youtube.com/channel/UCX-16rGG_fl0_pAXfvp39aQ" target="_blank">
        <i class="fab fa-youtube"></i>
      </a>
      <a href="https://www.instagram.com/sop.juheechoi/" target="_blank">
        <i class="fab fa-instagram-square"></i>
      </a>
      <a href="https://www.facebook.com/juhee.choi.5011" target="_blank">
        <i class="fab fa-facebook-square"></i>
      </a>
    </div>  
  </footer>
  <script>
    function toggleMenu() {
        const menu = document.querySelector('.menu');
        menu.classList.toggle('open');
        const menuItems = document.querySelectorAll('.menu a');
                menuItems.forEach(item => {
                    item.addEventListener('click', () => {
                        menu.classList.remove('open');
                    });
                });        
    }
    async function loadAndRenderXML(xmlUrl, xslUrl, containerId) {
      try {
              const xmlResponse = await fetch(xmlUrl);
              if (!xmlResponse.ok) throw new Error(`Failed to load XML: ${xmlResponse.statusText}`);
              const xmlText = await xmlResponse.text();
              const parser = new DOMParser();
              const xmlDoc = parser.parseFromString(xmlText, "application/xml");

              const xslResponse = await fetch(xslUrl);
              if (!xslResponse.ok) throw new Error(`Failed to load XSL: ${xslResponse.statusText}`);
              const xslText = await xslResponse.text();
              const xslDoc = parser.parseFromString(xslText, "application/xml");

              const xsltProcessor = new XSLTProcessor();
              xsltProcessor.importStylesheet(xslDoc);

              const resultDocument = xsltProcessor.transformToFragment(xmlDoc, document);

              const container = document.getElementById(containerId);
              container.innerHTML = '';
              container.appendChild(resultDocument);
          } catch (error) {
              console.error('Error rendering XML:', error);
              document.getElementById(containerId).textContent = 'Error loading and rendering XML.';
          }
    }
    loadAndRenderXML('bio_j_local.xml', 'bio_j.xsl', 'bio-j-container');
    loadAndRenderXML('edu_j_local.xml', 'perf.xsl', 'edu-j-container');
    loadAndRenderXML('honor_j_local.xml', 'honor_j.xsl', 'honor-j-container');
    loadAndRenderXML('perf_local.xml', 'perf.xsl', 'perf-container');
  </script>
</body>
</html>